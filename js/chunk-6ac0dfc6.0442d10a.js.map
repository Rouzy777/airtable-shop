{"version":3,"sources":["webpack:///./src/views/Cart.vue?09b6","webpack:///./src/views/Cart.vue?87f1","webpack:///src/views/Cart.vue","webpack:///./src/views/Cart.vue?ed00","webpack:///./src/views/Cart.vue?ec69"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","_s","cartLength","_e","_l","vendor","key","name","products","item","i","directives","rawName","value","expression","domProps","on","$event","target","composing","code","checkShippingCode","errorCodeMessage","shipping","totalSum","staticRenderFns","components","ProductCard","data","computed","total","$store","state","created","vendors","cart","calculateSum","sessionStorage","methods","component"],"mappings":"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","file":"js/chunk-6ac0dfc6.0442d10a.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cart.vue?vue&type=style&index=0&media=screen&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cart.vue?vue&type=style&index=0&media=screen&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('div',[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-6\"},[_c('h3',{staticClass:\"font-weight-bold\"},[_c('i',{staticClass:\"fa fa-shopping-cart\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" Cart \"),(_vm.cartLength)?_c('span',[_vm._v(\"(\"+_vm._s(_vm.cartLength)+\")\")]):_vm._e()])]),_c('div',{staticClass:\"col-6 align-self-center text-right\"},[_c('router-link',{staticClass:\"font-weight-bold link\",attrs:{\"to\":\"/\"}},[_c('i',{staticClass:\"fa fa-chevron-circle-left\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" Return to List \")])],1)])]),(_vm.cartLength)?_c('div',{staticClass:\"pb-3\"},[_vm._l((_vm.vendors),function(vendor){return _c('div',{key:vendor.vendor.name,staticClass:\"mt-4\"},[(vendor.products.length)?_c('div',[_c('h2',{staticClass:\"vendor-title text-muted\"},[_vm._v(\" \"+_vm._s(vendor.vendor.name)+\" \")]),_c('div',{staticClass:\"row mx-auto col-12 px-0 mt-3\"},_vm._l((vendor.products),function(item,i){return _c('ProductCard',{key:((item['lot #']) + \"-\" + i),attrs:{\"productRaw\":item,\"vendor\":vendor.vendor}})}),1)]):_vm._e()])}),_c('div',{staticClass:\"w-100 py-3 text-right border-top\"},[(_vm.shipping)?_c('div',{staticClass:\"col-lg-6 px-0 mb-3 ml-auto\"},[_c('small',{staticClass:\"text-muted\"},[_vm._v(\"Free Shipping Code\")]),_c('div',{staticClass:\"input-group free-shipping-code ml-auto\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.code),expression:\"code\"}],staticClass:\"form-control\",domProps:{\"value\":(_vm.code)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.code=$event.target.value}}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-primary\",on:{\"click\":function($event){return _vm.checkShippingCode(_vm.code)}}},[_vm._v(\"OK\")])])]),(_vm.errorCodeMessage)?_c('small',{staticClass:\"text-danger\"},[_vm._v(\" \"+_vm._s(_vm.errorCodeMessage)+\" \")]):_vm._e()]):_vm._e(),(!_vm.shipping)?_c('p',{staticClass:\"font-weight-bold text-success\"},[_c('i',{staticClass:\"fa fa-truck\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" FREE SHIPPING \")]):_c('p',[_c('i',{staticClass:\"fa fa-truck\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" Shipping: \"),_c('span',{staticClass:\"font-weight-bold\"},[_vm._v(\"$\"+_vm._s(_vm.shipping)+\" CAD\")])]),_c('p',[_vm._v(\" Total: \"),_c('span',{staticClass:\"font-weight-bold\"},[_vm._v(\"$\"+_vm._s(_vm.totalSum)+\" CAD\")])]),_c('router-link',{staticClass:\"btn btn-success font-weight-bold\",attrs:{\"tag\":\"button\",\"to\":\"/checkout\"}},[_vm._v(\" CHECKOUT \")])],1)],2):_c('div',{staticClass:\"mt-3\"},[_c('h5',[_vm._v(\" Cart is empty. \"),_c('router-link',{attrs:{\"to\":\"/\"}},[_vm._v(\"Go buy!\")])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <section>\n    <div>\n      <div class=\"row\">\n        <div class=\"col-6\">\n          <h3 class=\"font-weight-bold\">\n            <i class=\"fa fa-shopping-cart\" aria-hidden=\"true\"></i>\n            Cart <span v-if=\"cartLength\">({{ cartLength }})</span>\n          </h3>\n        </div>\n        <div class=\"col-6 align-self-center text-right\">\n          <router-link to=\"/\" class=\"font-weight-bold link\">\n            <i class=\"fa fa-chevron-circle-left\" aria-hidden=\"true\"></i> Return to List\n          </router-link>\n        </div>\n      </div>\n    </div>\n    <div v-if=\"cartLength\" class=\"pb-3\">\n      <div v-for=\"vendor of vendors\" :key=\"vendor.vendor.name\" class=\"mt-4\">\n        <div v-if=\"vendor.products.length\">\n          <h2 class=\"vendor-title text-muted\">\n            {{ vendor.vendor.name }}\n          </h2>\n          <div class=\"row mx-auto col-12 px-0 mt-3\">\n            <ProductCard v-for=\"(item, i) of vendor.products\" :key=\"`${item['lot #']}-${i}`\" :productRaw=\"item\" :vendor=\"vendor.vendor\" />\n          </div>\n        </div>\n      </div>\n      <div class=\"w-100 py-3 text-right border-top\">\n        <div v-if=\"shipping\" class=\"col-lg-6 px-0 mb-3 ml-auto\">\n          <small class=\"text-muted\">Free Shipping Code</small>\n          <div class=\"input-group free-shipping-code ml-auto\">\n            <input v-model=\"code\" class=\"form-control\">\n            <div class=\"input-group-append\">\n              <button class=\"btn btn-primary\" @click=\"checkShippingCode(code)\">OK</button>\n            </div>\n          </div>\n          <small v-if=\"errorCodeMessage\" class=\"text-danger\">\n            {{ errorCodeMessage }}\n          </small>\n        </div>\n        <p v-if=\"!shipping\" class=\"font-weight-bold text-success\">\n          <i class=\"fa fa-truck\" aria-hidden=\"true\"></i> FREE SHIPPING\n        </p>\n        <p v-else>\n          <i class=\"fa fa-truck\" aria-hidden=\"true\"></i> Shipping: <span class=\"font-weight-bold\">${{ shipping }} CAD</span>\n        </p>\n        <p>\n          Total:\n          <span class=\"font-weight-bold\">${{ totalSum }} CAD</span>\n        </p>\n        <router-link tag=\"button\" class=\"btn btn-success font-weight-bold\" to=\"/checkout\">\n          CHECKOUT\n        </router-link>\n      </div>\n    </div>\n    <div v-else class=\"mt-3\">\n      <h5>\n        Cart is empty.\n        <router-link to=\"/\">Go buy!</router-link>\n      </h5>\n    </div>\n  </section>\n</template>\n\n<script>\nimport ProductCard from '@/components/ProductCard'\nimport { mapMutations, mapActions } from 'vuex'\n\nexport default {\n  name: 'Cart',\n  components: {\n    ProductCard\n  },\n  data: () => ({\n    vendors: [],\n    code: ''\n  }),\n  computed: {\n    cartLength () {\n      let total = 0\n      for (const vendor of this.$store.state.cart) {\n        total += vendor.products.length\n      }\n      return total\n    },\n    totalSum () {\n      return this.$store.state.totalSum\n    },\n    shipping () {\n      return this.$store.state.shipping\n    },\n    errorCodeMessage () {\n      return this.$store.state.errorCodeMessage\n    }\n  },\n  created () {\n    this.vendors = this.$store.state.cart\n    this.calculateSum()\n    if (sessionStorage.code) {\n      this.checkShippingCode(sessionStorage.code)\n    }\n  },\n  methods: {\n    ...mapMutations([\n      'calculateSum'\n    ]),\n    ...mapActions([\n      'checkShippingCode'\n    ])\n  }\n  // watch: {\n  //   vendors: {\n  //     handler: function (newData) {\n  //       let total = 0\n  //       this.shipping = 0\n  //       for (const item of newData) {\n  //         const vendorSum = item.products.reduce(function (acc, obj) { return acc + Math.round(obj['Final Price']) }, 0)\n  //         total += vendorSum\n  //         if (vendorSum < 100) {\n  //           this.shipping += 15\n  //         }\n  //       }\n  //       this.totalSum = total + this.shipping\n  //       // this.totalSum = newData.reduce(function (acc, obj) { return acc + Math.round(obj['Final Price']) }, 0)\n  //       // if (this.totalSum < 100) {\n  //       //   this.shipping = 15\n  //       // }\n  //     },\n  //     deep: true\n  //   }\n  // }\n}\n</script>\n\n<style media=\"screen\">\n  .font-weight-medium {\n    font-weight: 500;\n  }\n\n  .link {\n    text-decoration: none !important;\n  }\n\n  .vendor-title {\n    font-size: 24px;\n  }\n\n  .free-shipping-code {\n    width: 150px;\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Cart.vue?vue&type=template&id=022bc6e0&\"\nimport script from \"./Cart.vue?vue&type=script&lang=js&\"\nexport * from \"./Cart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Cart.vue?vue&type=style&index=0&media=screen&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}